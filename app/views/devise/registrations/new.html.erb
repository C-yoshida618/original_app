<%= render "shared/header" %>

<main>
  <h1>User registration</h1>
  <div class="registration-form">
    <%= form_with(model: resource, url: registration_path(resource_name), method: :post, local: true) do |f| %>
      <%= render "devise/shared/error_messages", resource: resource %>

      <div class="field">
        <%= f.label :name, "名前（全角）" %><br />
        <%= f.text_field :name, autofocus: true %>
      </div>
      <div class="field">
        <%= f.label :name_kana, "名前（カナ）" %><br />
        <%= f.text_field :name_kana %>
      </div>
      <div class="field">
        <%= f.label :email %><br />
        <%= f.email_field :email %>
      </div>
      <div class="field">
        <%= f.label :password %> <i>(6 characters minimum)</i><br />
        <%= f.password_field :password, autocomplete: "off" %>
      </div>
      <div class="field">
        <%= f.label :password_confirmation, "password 再入力" %><br />
        <%= f.password_field :password_confirmation, autocomplete: "off" %>
      </div>
      <div class="link-btn-box">
        <%= f.submit "REGISTRATION", class: "link-btn" %>
      </div>
      <%= button_to "Googleで登録", user_google_oauth2_omniauth_callback_path, data: { turbo: false } %>

      <%if @sns_id.present? %>
      <%= hidden_field_tag :sns_auth, true %>
      <% else %>
      <div class="field">
      <%= f.label :password %>
      <% @minimum_password_length %>
      <em>(<%= @minimum_password_length %> characters minimum)</em>
      <br />
      <%= f.password_field :password, autocomplete: "new-password" %>
    </div>

    <div class="field">
      <%= f.label :password_confirmation %><br />
      <%= f.password_field :password_confirmation, autocomplete: "new-password" %>
    </div>
    <% end %>
    <% end %>
  </div>
</main>

<%= render "shared/footer" %>
